<section class="vbox" ng-controller="NiGaoCtrl" on-document-hotkeys="{type:'keydown', key:'ctrl+n', handler:test}" >
  <header class="header bg-white b-b clearfix">
    <form class="talbe-search" method="post" action="">
      <div class="row m-t-sm">
        <div class="col-sm-7 m-b-xs">
          <div class="btn-group">
            <my-btn-refulsh></my-btn-refulsh>
            <button type="button" class="btn btn-sm btn-default" title="删除" data-toggle="batch"
                    ng-disabled="!batchIsActived()" ng-click="deleteItems()">
              <i class="fa fa-trash-o" tooltip-placement="left" tooltip="删除"></i>
            </button>
          </div>
          <div class="btn-group" >
            <button type="button" class="btn btn-default btn-sm" style="padding: 5px 7px;" >
              <i class="fa fa-plus  m-l-xs m-r-xs" tooltip-placement="right" tooltip="新增（ctrl+n）"></i>
            </button>
          </div>
        </div>
        <div class="col-sm-4 col-sm-offset-1 m-b-xs">
          <div class="input-group">
            <input type="text" class="form-control input-sm" id="employeeTxt" value="" name="employee" placeholder="请输入标题"/>
              <span class="input-group-btn">
                  <button class="btn btn-sm btn-default" type="submit" title="搜索" id="sousuoBut">
                    <i class="fa fa-search"></i>
                  </button>
              </span>
          </div>
        </div>
      </div>
      <input type="hidden" name="pageNumber" id="pageNumber" value="1"/>
      <input type="hidden" name="orderBy" id="orderBy" value="desc"/>
      <input type="hidden" name="order" id="order" value="time"/>
      <script>
        var searchTypeTxt = document.getElementById('searchTypeTxt');
        var employeeTxt = document.getElementById('employeeTxt');
        var sousuoBut = document.getElementById('sousuoBut');
        sousuoBut.onmouseover = function () {
          if(searchTypeTxt.innerHTML == '按时间段查询') {
            employeeTxt.setAttribute("data-rule-required", "true");
          } else {
            employeeTxt.setAttribute("data-rule-required", "false");
          }
        }
      </script>
    </form>
  </header>
  <section class="scrollable  wrapper">
    <section class="panel panel-default">
      <div class="table-responsive">
        <table id="userList" class="table table-hover m-b-none entity-view">
          <thead>
          <tr>
            <th class="with-checkbox">
              <input type="checkbox" ng-model="selectAllCheckbox.isChecked" ng-click="selectAllItem()">
            </th>
            <th style="width:60px">序号</th>
            <th style="width:50%">标题</th>
            <th>发起人</th>
            <th>发起时间</th>
          </tr>
          </thead>
          <tbody>
          <tr bindonce ng-repeat="item in itemList" ng-click="mySliderToggle(item)" ng-class="isSelected(item)">
            <td>
              <input type="checkbox" ng-model="item.selected" ng-checked="item.selected"
                     ng-click="selectItem($event)">
            </td>
            <td><span bo-text="$index+1"></span></td> <!-- todo: 实际序号值从数据库获取 -->
            <td><span bo-text="item.bt"></span></td>
            <td><span bo-text="item.fqr"></span></td>
            <td><span bo-text="item.fqsj"></span></td>
          </tr>
          </tbody>
        </table>
      </div>
    </section>
  </section>
  <footer class="footer bg-white b-t">
    <div class="row text-center-xs">
      <div class="col-md-6 hidden-sm">
        <p class="text-muted m-t">总共0条 当前为第1页</p>
      </div>
      <div class="col-md-6 col-sm-12 text-right text-center-xs">
        <ul class="pagination pagination-sm m-t-sm m-b-none" data-pages-total=""
            data-page-current=""></ul>
      </div>
    </div>
  </footer>
  <div my-slider-show slider_width="60%" class="entity-panel-container">
    <div ng-show="true" ng-include="'userEntityPanel.html'"></div>
  </div>
</section>
<script type="text/ng-template" id="userEntityPanel.html">
  <section class="entity-panel">
    <section class="entity-panel-wrapper">
      <header class="entity-panel-header header">
        <p>成员资料</p>
        <button type="button" class="close m-t" ng-click="colseEntity()">&times;</button>
        <!--data-dismiss="entity"-->
      </header>
      <div class="entity-panel-body form-horizontal">
        <div class="col-sm-offset-1  m-t-sm m-b-sm">
          <div class="media m-xs">
                    <span class="pull-left thumb-md">
                    </span>

            <div class="pull-right">
            </div>
            <div class="media-body">
              <h3 class="m-t-none"><b>{{user.username}}</b></h3>

              <p>{{user.userno}}</p>

              <p></p>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label">CA 卡号</label>

          <div class="col-sm-9">
            <p class="form-control-static">{{user.canumber}}</p>
          </div>
        </div>
        <div class="line line-dashed line-lg pull-in"></div>
        <div class="form-group">
          <label class="col-sm-3 control-label">工作电话</label>

          <div class="col-sm-9">
            <p class="form-control-static">{{user.landline}}</p>
          </div>
        </div>
        <div class="line line-dashed line-lg pull-in"></div>
        <div class="form-group">
          <label class="col-sm-3 control-label">手机</label>

          <div class="col-sm-9">
            <p class="form-control-static">{{user.cellphone}}</p>
          </div>
        </div>
        <div class="line line-dashed line-lg pull-in"></div>
        <div class="form-group">
          <label class="col-sm-3 control-label">部门</label>

          <div class="col-sm-9">
            <p class="form-control-static">{{user.deptname}}</p>
          </div>
        </div>
        <div class="line line-dashed line-lg pull-in"></div>
        <div class="form-group">
          <label class="col-sm-3 control-label">岗位</label>

          <div class="col-sm-9">
            <p class="form-control-static">{{user.position}}</p>
          </div>
        </div>
        <div class="line line-dashed line-lg pull-in"></div>
        <div class="form-group">
          <label class="col-sm-3 control-label">数据权限</label>

          <div class="col-sm-9">
            <p class="form-control-static">{{user.datapriv}}</p>
          </div>
        </div>
        <div class="line line-dashed line-lg pull-in"></div>
        <div class="form-group">
          <label class="col-sm-3 control-label">操作权限</label>

          <div class="col-sm-9">
            <p class="form-control-static">{{user.operpriv}}</p>
          </div>
        </div>
        <div class="line line-dashed line-lg pull-in"></div>
        <div class="form-group">
          <label class="col-sm-3 control-label">用户状态</label>

          <div class="col-sm-9">
            <p class="form-control-static">{{user.state}}</p>
          </div>
        </div>
      </div>
      <footer class="entity-panel-footer footer  text-right">
        <button type="button" class="btn btn-default" my-user-modal data-template="templates/userEdit.html">修改</button>
      </footer>
    </section>
  </section>
</script>